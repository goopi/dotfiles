shell -/bin/bash -rcfile ~/.bashrc

# set the escape sequence to just a single backtick instead of '^a'.
# escape ``

# 256 colors
term "xterm-256color"
# terminfo and termcap for nice 256 color terminal
# allow bold colors - necessary for some reason
attrcolor b ".I" 
# tell screen how to set colors. AB = background, AF=foreground 
termcapinfo xterm 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm' 
termcapinfo xterm-color 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm' 
termcapinfo xterm-256color 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm' 
# erase background with current bg color 
defbce on

hardstatus alwayslastline "%{kW} %-w%{Wb} %n %t %{kW}%+w %=%l %c"

# huge scrollback buffer
defscrollback 5000

# no welcome message
startup_message off

# mouse tracking allows to switch region focus by clicking
mousetrack on

# default windows
screen -t server 0
screen -t vi 1
screen -t bash 2
select 0

bind c screen 1 # window numbering starts at 1 not 0
bind 0 select 10
bind s split

# switch windows with Ctrl+Shift-arrows
bindkey "^[[1;6D" prev
bindkey "^[[1;6C" next

# switch layouts with F3 (prev) and F4 (next)
bindkey "^[OR" layout prev
bindkey "^[OS" layout next

# F2 puts Screen into resize mode. Resize regions using hjkl keys
bindkey "^[OQ" eval "command -c rsz" # enter resize mode

# use hjkl keys to resize regions
bind -c rsz h eval "resize -h -5" "command -c rsz"
bind -c rsz j eval "resize -v -5" "command -c rsz"
bind -c rsz k eval "resize -v +5" "command -c rsz"
bind -c rsz l eval "resize -h +5" "command -c rsz"

# quickly switch between regions using tab and arrows
bind -c rsz \t eval "focus" "command -c rsz" # Tab
bind -c rsz -k kl eval "focus left" "command -c rsz" # Left
bind -c rsz -k kr eval "focus right" "command -c rsz" # Right
bind -c rsz -k ku eval "focus up" "command -c rsz" # Up
bind -c rsz -k kd eval "focus down" "command -c rsz" # Down

bind b eval "writebuf" "exec sh -c 'pbcopy < /tmp/screen-exchange'"
